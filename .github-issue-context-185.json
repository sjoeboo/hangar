{
  "type": "pull_request",
  "number": 185,
  "title": "fix: propagate allow_dangerous_mode config in UI-created Claude sessions",
  "body": "Fixes `allow_dangerous_mode` config being ignored when creating Claude sessions through the UI.\n\nThe `ClaudeOptionsPanel` was not reading or propagating this setting, causing the `--allow-dangerously-skip-permissions` flag to never be added for UI-created sessions.\n\nUpdated the panel to properly read and pass through the `allow_dangerous_mode` config value.",
  "author": "daniel-shimon",
  "url": "https://github.com/asheshgoplani/agent-deck/pull/185",
  "state": "open",
  "draft": false,
  "mergeable": null,
  "base_branch": "main",
  "head_branch": "fix-allow-dangerous-mode-ui",
  "created_at": "2026-02-17T14:53:20Z",
  "updated_at": "2026-02-17T14:53:20Z",
  "additions": 9,
  "deletions": 6,
  "changed_files_count": 1,
  "labels": [],
  "files": [
    {
      "filename": "internal/ui/claudeoptions.go",
      "status": "modified",
      "additions": 9,
      "deletions": 6,
      "patch": "@@ -15,9 +15,10 @@ type ClaudeOptionsPanel struct {\n \t// Resume session ID input (only for mode=resume)\n \tresumeIDInput textinput.Model\n \t// Checkbox states\n-\tskipPermissions bool\n-\tuseChrome       bool\n-\tuseTeammateMode bool\n+\tskipPermissions      bool\n+\tallowSkipPermissions bool\n+\tuseChrome            bool\n+\tuseTeammateMode      bool\n \t// Focus tracking\n \tfocusIndex int\n \t// Whether this panel is for fork dialog (fewer options)\n@@ -65,6 +66,7 @@ func NewClaudeOptionsPanelForFork() *ClaudeOptionsPanel {\n func (p *ClaudeOptionsPanel) SetDefaults(config *session.UserConfig) {\n \tif config != nil {\n \t\tp.skipPermissions = config.Claude.GetDangerousMode()\n+\t\tp.allowSkipPermissions = config.Claude.AllowDangerousMode\n \t}\n }\n \n@@ -93,9 +95,10 @@ func (p *ClaudeOptionsPanel) AtTop() bool {\n // GetOptions returns current options as ClaudeOptions\n func (p *ClaudeOptionsPanel) GetOptions() *session.ClaudeOptions {\n \topts := &session.ClaudeOptions{\n-\t\tSkipPermissions: p.skipPermissions,\n-\t\tUseChrome:       p.useChrome,\n-\t\tUseTeammateMode: p.useTeammateMode,\n+\t\tSkipPermissions:      p.skipPermissions,\n+\t\tAllowSkipPermissions: p.allowSkipPermissions,\n+\t\tUseChrome:            p.useChrome,\n+\t\tUseTeammateMode:      p.useTeammateMode,\n \t}\n \n \tif !p.isForkMode {"
    }
  ],
  "commits": [
    {
      "sha": "627cdfc",
      "message": "fix: propagate allow_dangerous_mode config in UI-created Claude sessions",
      "author": "daniel_shimon"
    }
  ],
  "reviews": [],
  "comments": [],
  "review_comments": [],
  "related": [],
  "detected_type": "bugfix"
}
